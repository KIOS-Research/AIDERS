{% extends "base.html" %}

{% load static %}

{% block title %}
Aiders - Users
{% endblock %}


{% block head_block %}

    <link href="{% static 'libs/jquery.dataTables/http_cdn.datatables.net_1.10.2_css_jquery.dataTables.css' %}" rel="stylesheet">
    <script src="{% static 'libs/jquery.dataTables/http_cdn.datatables.net_1.10.2_js_jquery.dataTables.js' %}"></script>
{% endblock %}


{% block body_block %}

<div class="justify-content-center ms-5 me-5 footer-margin header-margin">
    <div class="row pt-5">
        <h3 class="col float-start">Users</h3>
        <div class="col">
            <a class="btn btn-primary float-end mx-1 {% if not perms.aiders.edit_permissions %}disabled{% endif %}" href="{% url 'manage_permissions' %}">
                <i class="far fa-plus-square "></i>
                Edit Permissions
            </a>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-sm" style="color: black">
            <div><br/></div>

                <table id="usersTable" class="table table-striped">
                <thead>
                <tr>
                    <th> ID</th>
                    <th> Username</th>
                    <th> First Name</th>

                    <th> Last Name</th>
                    <th> Email address</th>
                    <th> Joined operation</th>
                    <th> Last login</th>
{#                    <th style="width: 7%"> Actions</th>#}
                </tr>
                </thead>
                <tbody>
                    {% if users %}
                        {% for user in users %}
                            <tr>
                                <td class='align-middle'> {{user.id}}</td>
                                <td class='align-middle'> {{user.username}}</td>
                                <td class='align-middle'> {{user.first_name}}</td>
                                <td class='align-middle'> {{user.last_name}}</td>
                                <td class='align-middle'> {{user.email}}</td>
                                <td class='align-middle'> {{user.joined_operation}}</td>
                                <td class='align-middle'> {{user.date_joined}}</td>
{#                                <td class='align-middle'>#}
{#                                <div>#}
{#                                    <form class='m-1' style='float: left;' method="get" action="#">#}
{#                                        <button type="submit" class="btn btn-warning" ><i style="color:white;" class="fas fa-edit"></i></button>#}
{#                                    </form>#}
{#                                </div>#}
{#                                <div>#}
{#                                    <form class='m-1' style='float: left;' method="get" action="#">#}
{#                                        <button type="submit" class="btn btn-danger" ><i class="fa-solid fa-trash"></i></button>#}
{#                                    </form>#}
{#                                </div>#}
{#                                </td>#}
                            </tr>
                        {% endfor %}
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>



{% endblock %}

{% block script_block %}

$(document).ready(function(){
$('#usersTable').dataTable();
});

{% endblock %}
